<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>js org chart.</title>
    <!-- Font Awesome -->
    <link href="/dist/css/fontawesome.all.min.css" rel="stylesheet" type="text/css" />
    <!-- JQuery UI -->
    <link href="/dist/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
    <!-- Bootstrap 4 -->
    <link href="/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="/dist/css/bootstrap-grid.min.css" rel="stylesheet" type="text/css" />
    <link href="/dist/css/bootstrap-reboot.min.css" rel="stylesheet" type="text/css" />
    <!-- Flag and Emoji icons -->
    <link href="/dist/css/flag-icon.min.css" rel="stylesheet" type="text/css" />
    <link href="/dist/css/emojisymbol.min.css" rel="stylesheet" type="text/css" />
    <!-- jQuery Org Chart css -->
    <link href="/dist/css/jquery.orgchart.min.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
        .orgchart .second-menu-icon {
            transition: opacity .5s;
            opacity: 0;
            right: -5px;
            top: -5px;
            z-index: 2;
            color: rgba(68, 157, 68, 0.5);
            font-size: 18px;
            position: absolute;
        }
    
        .orgchart .second-menu-icon:hover {
            color: #449d44;
        }
    
        .orgchart .node:hover .second-menu-icon {
            opacity: 1;
        }
    
        .orgchart .node .second-menu {
            display: none;
            position: absolute;
            top: 0;
            right: -70px;
            border-radius: 35px;
            box-shadow: 0 0 10px 1px #999;
            background-color: #fff;
            z-index: 1;
        }
    
        .orgchart .node .second-menu .avatar {
            width: 60px;
            height: 60px;
            border-radius: 30px;
            float: left;
            margin: 5px;
        }
    </style>
</head>
<body>
    <div id="chart-container"></div>

    <!-- JQuery -->
    <script src="/dist/js/jquery.min.js"></script>
    <!-- JQuery UI -->
    <script src="/dist/js/jquery-ui.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="/dist/js/popper.min.js"></script>
    <script src="/dist/js/tooltip.min.js"></script>
    <script src="/dist/js/bootstrap.min.js">/* bootstrap required jQuery and popperjs. */</script>
    <!-- Moment.js -->
    <script src="/dist/js/moment.min.js"></script>
    <!-- Tabulator -->
    <script src="/dist/js/tabulator.min.js"></script>
    <!-- jQuery Org Chart -->
    <script src="/dist/js/jquery.orgchart.min.js"></script>    
    <script>
        $(function () {
            var datascource = {
                'id': '1',
                'name': 'Lao Lao',
                'title': 'general manager',
                'children': [
                    { 'id': '2', 'name': 'Bo Miao', 'title': 'department manager' },
                    {
                        'id': '3', 'name': 'Su Miao', 'title': 'department manager',
                        'children': [
                            { 'id': '4', 'name': 'Tie Hua', 'title': 'senior engineer' },
                            {
                                'id': '5', 'name': 'Hei Hei', 'title': 'senior engineer',
                                'children': [
                                    { 'id': '6', 'name': 'Pang Pang', 'title': 'engineer' },
                                    { 'id': '7', 'name': 'Xiang Xiang', 'title': 'UE engineer' }
                                ]
                            }
                        ]
                    },
                    { 'id': '8', 'name': 'Yu Jie', 'title': 'department manager' },
                    { 'id': '9', 'name': 'Yu Li', 'title': 'department manager' },
                    { 'id': '10', 'name': 'Hong Miao', 'title': 'department manager' },
                    { 'id': '11', 'name': 'Yu Wei', 'title': 'department manager' },
                    { 'id': '12', 'name': 'Chun Miao', 'title': 'department manager' },
                    { 'id': '13', 'name': 'Yu Tie', 'title': 'department manager' }
                ]
            };
            $('#chart-container').orgchart({
                'data': datascource,
                'visibleLevel': 2,
                'nodeContent': 'title',
                'nodeID': 'id',
                'createNode': function ($node, data) {
                    var secondMenuIcon = $('<i>', {
                        'class': 'fa fa-info-circle second-menu-icon',
                        click: function () {
                            $(this).siblings('.second-menu').toggle();
                            alert('click me.' + JSON.stringify(data))
                        }
                    });

                    var secondMenu = '<div class="second-menu"><img class="avatar" src="img/avatar/' + data.id + '.jpg"></div>';
                    $node.append(secondMenuIcon).append(secondMenu);
                }
            });
        });
    </script>
</body>
</html>